<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="MauiMockup.MainPage"
             BackgroundColor="{StaticResource BackgroundColor}">
    <Grid x:Name="RootLayout" RowDefinitions="Auto,*" Padding="20" RowSpacing="40">
        <Grid x:Name="HeaderGrid" Grid.Row="0" ColumnDefinitions="Auto,*,Auto" ColumnSpacing="2">
            <Button Text="&lt;" Clicked="OnLeftBtn" BackgroundColor="Transparent" BorderColor="Gray" BorderWidth="1" TextColor="White" />
            <Button x:Name="GateTitleButton" Clicked="OnTitleBtn" Grid.Column="1" BackgroundColor="Transparent" BorderColor="Gray" BorderWidth="1" TextColor="White" />
            <Button Grid.Column="2" Text="&gt;" Clicked="OnRightBtn" BackgroundColor="Transparent" BorderColor="Gray" BorderWidth="1" TextColor="White" />
        </Grid>

        <Grid x:Name="ContentGrid"
      Grid.Row="1"
      RowDefinitions="Auto,*"
      ColumnDefinitions="Auto,*"
      RowSpacing="40">

            <!-- Status block aligned with GateTitleButton -->
            <VerticalStackLayout x:Name="StatusLayout"
                         Grid.Row="0"
                         Grid.Column="1"
                         Spacing="12"
                         HorizontalOptions="Start"
                         VerticalOptions="Center">

                <!-- Gate status -->
                <Border Background="{StaticResource BackgroundColor}"
                StrokeThickness="0"
                StrokeShape="RoundRectangle 8">
                    <Grid Padding="10,8" ColumnDefinitions="32,*" ColumnSpacing="12">
                        <Path x:Name="GateStatusPath"
                      Data="{StaticResource GateIconGeometry}"
                      Fill="White"
                      WidthRequest="24" HeightRequest="24"
                      Aspect="Uniform"
                      HorizontalOptions="Start"
                      VerticalOptions="Center"/>
                        <Label Grid.Column="1"
                       x:Name="GateStatusLabel"
                       Text=""
                       TextColor="White"
                       FontSize="14"
                       HorizontalTextAlignment="Start"
                       VerticalTextAlignment="Center"/>
                    </Grid>
                </Border>

                <!-- MQTT status -->
                <Border Background="{StaticResource BackgroundColor}"
                StrokeThickness="0"
                StrokeShape="RoundRectangle 8">
                    <Grid Padding="10,8" ColumnDefinitions="32,*" ColumnSpacing="12">
                        <Path x:Name="MqttStatusPath"
                      Data="{StaticResource MqttIconGeometry}"
                      Fill="White"
                      WidthRequest="24" HeightRequest="24"
                      Aspect="Uniform"
                      HorizontalOptions="Start"
                      VerticalOptions="Center"/>
                        <Label Grid.Column="1"
                       x:Name="MqttStatusLabel"
                       Text="mqtt status"
                       TextColor="White"
                       FontSize="14"
                       HorizontalTextAlignment="Start"
                       VerticalTextAlignment="Center"/>
                    </Grid>
                </Border>

                <!-- BT status -->
                <Border Background="{StaticResource BackgroundColor}"
                StrokeThickness="0"
                StrokeShape="RoundRectangle 8">
                    <Grid Padding="10,8" ColumnDefinitions="32,*" ColumnSpacing="12">
                        <Path x:Name="BtStatusPath"
                      Data="{StaticResource BluetoothIconGeometry}"
                      Fill="White"
                      WidthRequest="24" HeightRequest="24"
                      Aspect="Uniform"
                      HorizontalOptions="Start"
                      VerticalOptions="Center"/>
                        <Label Grid.Column="1"
                       x:Name="BtStatusLabel"
                       Text="bt status"
                       TextColor="White"
                       FontSize="14"
                       HorizontalTextAlignment="Start"
                       VerticalTextAlignment="Center"/>
                    </Grid>
                </Border>

            </VerticalStackLayout>

            <!-- Action button centered, spans both columns -->
            <Button x:Name="ActionButton"
            Grid.Row="1"
            Grid.ColumnSpan="2"
            Style="{StaticResource ActionButtonStyle}"
            Clicked="OnDoAction"/>
        </Grid>

    </Grid>
</ContentPage>