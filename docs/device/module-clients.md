### Clients

This module is designed for synchronous execution only — multithreaded access is not supported

The maximum number of users is defined by the constant `CLIENTS_DB_MAX_RECORDS` in `components/client.h`.  
This value directly limits how many user records can be stored in NVM ( by default up to 50 registered clients ).

The data model handled by the Clients module:

```text
Clients {
  Client {
    name : string;     // displayed client name
    client_id : UID;   // client identify
    nonce : number;    // command counter, also message id ( see protocol.md )
    pub_pem : string;  // public RSA received from client
    allow_flags : bits // specify the enabled features
  }
}
```
where:

**name** - The name field is used for convenient client identification in the admin panel. Initially generated based on data received from the client during registration. After client authorization, the field may be edited. Stored on the device only.

**client_id** - Used in the communication protocol to identify the client. Generated by the device when the client is added and sent to the client. ( see protocol.md )

**nonce** - Used to filter out duplicates and for Anti-replay guard ( see protocol.md )

**pub_pem** - The stored client RSA public key obtained during registration. Used to decode messages from the client. ( see protocol.md )

**allow_flags** - Byte value used to specify the enabled features
```text
allow_flags : bits
    Bit 0 (LSB) : Allow usage of Bluetooth module
    Bit 1       : Allow usage of public MQTT module
    Bit 2..7    : Reserved for future use
```

---

[← Back to ESP32 MCU Documentation](../../esp32_mcu/README.md)  
[← Back to main README](../../README.md)